<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">

<html lang='en'>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" >
<title>tharsis.prof.csv - Tharsis.prof 0.4 API documentation</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body><div id="top">
<div id="header">
<a id="main-heading" href="index.html">Tharsis.prof 0.4 API documentation</a>
</div>
</div>

<div id="navigation">
<div class="navblock">
<div id="toctop">
<ul><li><a href="http://code.dlang.org">More D libraries</a></li>
</ul>
</div>
</div>
<div class="navblock">
<ul><li><a href="index.html">Main page</a></li>
<li><a href="tharsis.prof.chunkyeventlist.html">tharsis.prof.chunkyeventlist</a></li>
<li><a href="tharsis.prof.csv.html">tharsis.prof.csv</a></li>
<li><a href="tharsis.prof.despikersender.html">tharsis.prof.despikersender</a></li>
<li><a href="tharsis.prof.profiler.html">tharsis.prof.profiler</a></li>
<li><a href="tharsis.prof.ranges.html">tharsis.prof.ranges</a></li>
</ul>
</div>
</div>

<div id="content">
<h1>tharsis.prof.csv</h1>
<!-- Generated by Ddoc from tharsis/prof/csv.d -->
<p>CSV serialization.</p>

<dl><dt class="d_decl"><a name="writeCSVTo"></a>@trusted void <a name="writeCSVTo"></a><span class="ddoc_psymbol">writeCSVTo</span>(ERange, ORange)(ERange <b>events</b>, ORange <b>output</b>) if (isInputRange!ERange &amp;&amp; is(ElementType!ERange == Event) &amp;&amp; isCharOutput!ORange);
</dt>
<dd><p>Write Events from a range to CSV.
</p>
<b>Parameters:</b><div class="pbr"><table class=parms><tr><td valign=top>ERange events</td>
<td valign=top>An InputRange of Events to write to CSV.</td></tr>
<tr><td valign=top>ORange output</td>
<td valign=top>An OutputRange of characters to write to.
          Example output ranges: Appender!string or std.stdio.File.lockingTextWriter.
<br>

 No heap memory will be allocated <b>if</b> output does not allocate.</td></tr>
</table></div>
<b>Throws:</b><div class="pbr">Whatever (if anything) output throws on failure to write more data to it.</div>
<b>Examples:</b><div class="pbr"><pre class="d_code">
<span class="d_keyword">import</span> tharsis.prof;

<span class="d_keyword">auto</span> storage  = <span class="d_keyword">new</span> <span class="d_keyword">ubyte</span>[Profiler.maxEventBytes + 2048];
<span class="d_keyword">auto</span> profiler = <span class="d_keyword">new</span> Profiler(storage);

<span class="d_comment">// Simulate 2 'frames'
</span><span class="d_keyword">foreach</span>(frame; 0 .. 2)
{
    Zone topLevel = Zone(profiler, <span class="d_string">"frame"</span>);

    <span class="d_comment">// Simulate frame overhead. Replace this with your frame code.
</span>    {
        Zone nested1 = Zone(profiler, <span class="d_string">"with,comma"</span>);
        <span class="d_keyword">foreach</span>(i; 0 .. 1000) { <span class="d_keyword">continue</span>; }
    }
    {
        Zone nested2 = Zone(profiler, <span class="d_string">"with\"quotes\""</span>);
        <span class="d_keyword">foreach</span>(i; 0 .. 10000) { <span class="d_keyword">continue</span>; }
    }
}

<span class="d_keyword">import</span> std.stdio;
writeln(<span class="d_string">"Tharsis.prof CSV writing example"</span>);
<span class="d_comment">// Create an EventRange from profile data with UFCS syntax.
</span><span class="d_keyword">auto</span> events = profiler.profileData.eventRange;

<span class="d_keyword">import</span> std.array;
<span class="d_keyword">auto</span> appender = appender!string();

events.<span class="d_psymbol">writeCSVTo</span>(appender);

writeln(appender.data);

writeln(<span class="d_string">"Tharsis.prof CSV parsing example"</span>);
<span class="d_keyword">import</span> std.csv;
<span class="d_keyword">import</span> std.range;

<span class="d_comment">// Parse the CSV back into events.
</span><span class="d_comment">//
</span><span class="d_comment">// Direct file input could work like this (it might be faster to load the entire file
</span><span class="d_comment">// to a buffer, though):
</span><span class="d_comment">//
</span><span class="d_comment">// import std.algorithm
</span><span class="d_comment">// foreach(event; csvReader!Event(File("values.csv").byLine.joiner))
</span><span class="d_keyword">foreach</span>(original, parsed; lockstep(events, csvReader!Event(appender.data)))
{
    <span class="d_keyword">assert</span>(original == parsed);
    writeln(parsed);
}
</pre>
</div>
</dd>
</dl>

</div>

<div id="copyright">
Copyright &copy; Ferdinand Majerech 2014 |
Page generated by AutoDDoc and <a href="http://www.digitalmars.com/d/2.0/ddoc.html">Ddoc</a>.
</div>

</body>
</html>
